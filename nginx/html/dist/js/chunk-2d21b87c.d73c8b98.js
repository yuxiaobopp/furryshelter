(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b87c"],{bfbd:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=this,n=t.$createElement,i=t._self._c||n;return i("a-modal",{attrs:{title:"编辑表单",width:"40%",visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:function(){e.visible=!1}}},[i("a-spin",{attrs:{spinning:t.confirmLoading}},[i("a-form-model",t._b({ref:"form",attrs:{model:t.entity,rules:t.rules}},"a-form-model",t.layout,!1),[i("a-form-model-item",{attrs:{label:"连接名",prop:"LinkName"}},[i("a-input",{attrs:{autocomplete:"off"},model:{value:t.entity.LinkName,callback:function(e){t.$set(t.entity,"LinkName",e)},expression:"entity.LinkName"}})],1),i("a-form-model-item",{attrs:{label:"连接字符串",prop:"ConnectionStr"}},[i("a-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.entity.ConnectionStr,callback:function(e){t.$set(t.entity,"ConnectionStr",e)},expression:"entity.ConnectionStr"}})],1),i("a-form-model-item",{attrs:{label:"数据库类型",prop:"DbType"}},[i("a-select",{model:{value:t.entity.DbType,callback:function(e){t.$set(t.entity,"DbType",e)},expression:"entity.DbType"}},[i("a-select-option",{key:"SqlServer"},[t._v("SqlServer")]),i("a-select-option",{key:"MySql"},[t._v("MySql")]),i("a-select-option",{key:"Oracle"},[t._v("Oracle")]),i("a-select-option",{key:"PostgreSql"},[t._v("PostgreSql")])],1)],1)],1)],1)],1)},a=[],o={props:{afterSubmit:{type:Function,default:null}},data:function(){return{layout:{labelCol:{span:5},wrapperCol:{span:18}},visible:!1,confirmLoading:!1,entity:{},rules:{LinkName:[{required:!0,message:"必填"}],ConnectionStr:[{required:!0,message:"必填"}],DbType:[{required:!0,message:"必填"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.entity={},this.$nextTick(function(){e.$refs["form"].clearValidate()})},openForm:function(e){var t=this;this.init(),e&&this.$http.post("/Base_Manage/Base_DbLink/GetTheData",{id:e}).then(function(e){t.entity=e.Data})},handleSubmit:function(){var e=this;this.$refs["form"].validate(function(t){t&&(e.confirmLoading=!0,e.$http.post("/Base_Manage/Base_DbLink/SaveData",e.entity).then(function(t){e.confirmLoading=!1,t.Success?(e.$message.success("操作成功!"),e.afterSubmit(),e.visible=!1):e.$message.error(t.Msg)}))})}}},s=o,r=n("2877"),l=Object(r["a"])(s,i,a,!1,null,null,null);t["default"]=l.exports}}]);