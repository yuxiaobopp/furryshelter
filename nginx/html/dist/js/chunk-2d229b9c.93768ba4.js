(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229b9c"],{df59:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("a-modal",{attrs:{title:"编辑表单",width:"40%",visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:function(){e.visible=!1}}},[i("a-spin",{attrs:{spinning:t.confirmLoading}},[i("a-form-model",t._b({ref:"form",attrs:{model:t.entity,rules:t.rules}},"a-form-model",t.layout,!1),[i("a-form-model-item",{attrs:{label:"用户名",prop:"UserName"}},[i("a-input",{attrs:{autocomplete:"off"},model:{value:t.entity.UserName,callback:function(e){t.$set(t.entity,"UserName",e)},expression:"entity.UserName"}})],1),i("a-form-model-item",{attrs:{label:"密码",prop:"newPwd"}},[i("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.entity.newPwd,callback:function(e){t.$set(t.entity,"newPwd",e)},expression:"entity.newPwd"}})],1),i("a-form-model-item",{attrs:{label:"姓名",prop:"RealName"}},[i("a-input",{attrs:{autocomplete:"off"},model:{value:t.entity.RealName,callback:function(e){t.$set(t.entity,"RealName",e)},expression:"entity.RealName"}})],1),i("a-form-model-item",{attrs:{label:"性别",prop:"Sex"}},[i("a-radio-group",{model:{value:t.entity.Sex,callback:function(e){t.$set(t.entity,"Sex",e)},expression:"entity.Sex"}},[i("a-radio",{attrs:{value:0}},[t._v("女")]),i("a-radio",{attrs:{value:1}},[t._v("男")])],1)],1),i("a-form-model-item",{attrs:{label:"生日",prop:"Birthday"}},[i("a-date-picker",{attrs:{format:"YYYY-MM-DD"},model:{value:t.entity.Birthday,callback:function(e){t.$set(t.entity,"Birthday",e)},expression:"entity.Birthday"}})],1),i("a-form-model-item",{attrs:{label:"部门",prop:"DepartmentId"}},[i("a-tree-select",{attrs:{allowClear:"",treeData:t.DepartmentIdTreeData,placeholder:"请选择部门",treeDefaultExpandAll:""},model:{value:t.entity.DepartmentId,callback:function(e){t.$set(t.entity,"DepartmentId",e)},expression:"entity.DepartmentId"}})],1),i("a-form-model-item",{attrs:{label:"角色",prop:"RoleIdList"}},[i("a-select",{attrs:{allowClear:"",mode:"multiple"},model:{value:t.entity.RoleIdList,callback:function(e){t.$set(t.entity,"RoleIdList",e)},expression:"entity.RoleIdList"}},t._l(t.RoleOptionList,function(e){return i("a-select-option",{key:e.Id},[t._v(t._s(e.RoleName))])}),1)],1)],1)],1)],1)},n=[],o=a("c1df"),s=a.n(o),r={props:{afterSubmit:{type:Function,default:null}},data:function(){return{layout:{labelCol:{span:5},wrapperCol:{span:18}},visible:!1,confirmLoading:!1,entity:{},DepartmentIdTreeData:[],RoleOptionList:[],rules:{UserName:[{required:!0,message:"必填"}],RealName:[{required:!0,message:"必填"}],Sex:[{required:!0,message:"必填"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.entity={},this.$nextTick(function(){e.$refs["form"].clearValidate()}),this.$http.post("/Base_Manage/Base_Department/GetTreeDataList",{}).then(function(t){t.Success&&(e.DepartmentIdTreeData=t.Data)}),this.$http.post("/Base_Manage/Base_Role/GetDataList",{}).then(function(t){t.Success&&(e.RoleOptionList=t.Data)})},openForm:function(e){var t=this;this.init(),e&&this.$http.post("/Base_Manage/Base_User/GetTheData",{id:e}).then(function(e){t.entity=e.Data,t.entity["Birthday"]&&(t.entity["Birthday"]=s()(t.entity["Birthday"]))})},handleSubmit:function(){var e=this;this.$refs["form"].validate(function(t){t&&(e.confirmLoading=!0,e.$http.post("/Base_Manage/Base_User/SaveData",e.entity).then(function(t){e.confirmLoading=!1,t.Success?(e.$message.success("操作成功!"),e.afterSubmit(),e.visible=!1):e.$message.error(t.Msg)}))})}}},l=r,m=a("2877"),d=Object(m["a"])(l,i,n,!1,null,null,null);t["default"]=d.exports}}]);